CREATE TABLE `site_code_info` (
  `id` bigint(20) unsigned NOT NULL COMMENT 'code_id',
  `site_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '站点id',
  `user_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '用户ID',
  `code_name` varchar(64) NOT NULL DEFAULT '' COMMENT '广告位名称',
  `height` int(11) NOT NULL DEFAULT '1' COMMENT 'iframe长度|广告位长度',
  `height_scale` int(11) NOT NULL DEFAULT '0' COMMENT '高度--比例值',
  `width` int(11) NOT NULL DEFAULT '1' COMMENT 'iframe宽度|广告位宽度',
  `width_scale` int(11) NOT NULL DEFAULT '0' COMMENT '宽度-比例值',
  `district` varchar(256) NOT NULL DEFAULT '' COMMENT '黑科技地区',
  `style_js` text COMMENT '样式js文件',
  `dest_cpm` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '目标cpm， 单位：元',
  `min_ecpm` decimal(10,2) DEFAULT '0.00' COMMENT '保底ECPM',
  `channel` varchar(64) NOT NULL DEFAULT '' COMMENT '渠道',
  `app_channel` varchar(1024) NOT NULL DEFAULT '' COMMENT 'APP媒体的渠道: {appid: channel}',
  `download_url` varchar(128) NOT NULL DEFAULT '' COMMENT '下载链接',
  `app_download_url` varchar(2048) NOT NULL DEFAULT '' COMMENT 'APP媒体的下载链接: {appid: url}',
  `target_tac_bucket_id` int(11) DEFAULT NULL COMMENT '国内tac分桶id',
  `status` tinyint(2) NOT NULL DEFAULT '0' COMMENT '代码位状态, 1:等待 2:运行 3:停止',
  `status_info` varchar(32) DEFAULT '2,2,2' COMMENT '状态三元组信息',
  `extra` text COMMENT '代码位其他信息',
  `app_code_type` int(11) DEFAULT '0' COMMENT 'APP代码位类型 1:信息流 2:banner 3:开屏',
  `media_type` int(11) DEFAULT '1' COMMENT '媒体类型 1: wap 2:app',
  `mask_business` varchar(1024) DEFAULT '' COMMENT 'APP行业屏蔽',
  `mask_business_new` varchar(16) NOT NULL DEFAULT '' COMMENT '行业屏蔽',
  `mask_keywords` varchar(1024) NOT NULL DEFAULT '' COMMENT '关键词屏蔽',
  `mask_apps` varchar(16) NOT NULL DEFAULT '' COMMENT 'app屏蔽',
  `mask_adx_ids` varchar(1024) DEFAULT '' COMMENT 'adx广告屏蔽',
  `ctime` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00' COMMENT '创建时间',
  `mtime` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `put_strategy` varchar(25) NOT NULL DEFAULT '' COMMENT '投放策略 1:ad+ug 2:no ug app 3:no ad app',
  `put_apps` varchar(100) NOT NULL DEFAULT '' COMMENT '投放的APP(新): appid1,appid2',
  `ad_categories` varchar(100) NOT NULL DEFAULT '' COMMENT '广告类型(新) 1:大图 2:组图 3:原图',
  `star` tinyint(4) DEFAULT '0' COMMENT '星级',
  `star2` tinyint(4) DEFAULT '0' COMMENT '人工修正的星级',
  `audit_type` tinyint(4) NOT NULL DEFAULT '0' COMMENT '0: 先投后审 1:先审后投',
  `mark` text COMMENT '备注',
  `source` varchar(15) NOT NULL DEFAULT 'union' COMMENT '来源 union: 联盟业务 news:资讯合作 ',
  `pay_method` int(11) NOT NULL DEFAULT '0' COMMENT '结算方式 1:分成 2:CPM',
  `share_ratio` float NOT NULL DEFAULT '100' COMMENT '分成比例/结算值',
  `operation_cost` float NOT NULL DEFAULT '0' COMMENT '运营成本',
  `access_method` int(11) NOT NULL DEFAULT '0' COMMENT '接入方式 0: 未设置 1:JS 2:SDK 3:API',
  `adx_rit` varchar(100) NOT NULL DEFAULT '',
  `stopped_at` timestamp NOT NULL DEFAULT '1989-12-31 08:00:00',
  `reward_name` varchar(256) NOT NULL DEFAULT '' COMMENT '激励名称',
  `reward_count` int(11) NOT NULL DEFAULT '0' COMMENT '激励数量',
  `reward_is_callback` smallint(6) NOT NULL DEFAULT '0' COMMENT '是否回调',
  `reward_callback_url` varchar(1024) NOT NULL DEFAULT '' COMMENT '激励回调url',
  `reward_security_key` varchar(256) NOT NULL DEFAULT '' COMMENT '激励秘钥',
  `expect_imp_cnt` bigint(20) NOT NULL DEFAULT '0' COMMENT '预期展示量',
  `min_fill_rate` float NOT NULL DEFAULT '0' COMMENT '最低填充率',
  `splash_duration` float NOT NULL DEFAULT '5' COMMENT '开屏时间',
  `news_ad_count` int(11) NOT NULL DEFAULT '0' COMMENT '资讯合作-广告数量',
  `news_ad_strategy` varchar(512) NOT NULL DEFAULT '' COMMENT '资讯合作-广告策略',
  `dsp_policy` tinyint(4) DEFAULT '3',
  `orientation` tinyint(4) DEFAULT '0' COMMENT '0：未知，1：垂直，2：水平',
  `mask_dsp_id` varchar(4096) DEFAULT '' COMMENT '屏蔽的dsp_id',
  `manual_score` float DEFAULT NULL,
  `merge_score` float DEFAULT NULL,
  `qgrade_coef` float DEFAULT '1',
  `qgrade_date` date DEFAULT NULL COMMENT 'q3.0生成日期',
  `stable_score` float DEFAULT NULL COMMENT '算法Q值',
  `video_auto_play` int(11) DEFAULT '1' COMMENT '视频自动播放，1，wifi，2，wifi+4g，3，不自动播放',
  `video_voice_control` int(11) DEFAULT '1' COMMENT '视频声音控制，1，静音，2，有声音，默认1',
  `screenshot_url` varchar(256) NOT NULL DEFAULT '' COMMENT '代码位截图url',
  `use_https` tinyint(2) NOT NULL DEFAULT '0' COMMENT '是否使用https，0，否，1，是',
  `use_origin` tinyint(2) NOT NULL DEFAULT '0' COMMENT '是否使用原图，0，否，1，是',
  `ov_preload` int(11) DEFAULT NULL COMMENT '原生(横版-竖版)视频预加载配置: 1表示wifi时提前下载, 2表示有网络即提前下载, 3表示播放时下载',
  `rv_preload` int(11) DEFAULT NULL COMMENT '激励视频网络预加载配置: 1表示wif时提前下载, 2表示有网络即提前下载',
  `rv_download_time` int(11) DEFAULT NULL COMMENT '激励视频发放时机: 0 - 100',
  `slide_banner` tinyint(2) DEFAULT NULL COMMENT '1-非轮播，2-轮播',
  `mask_rule_id` bigint(20) DEFAULT NULL COMMENT '屏蔽规则id',
  `traffic_level` int(4) NOT NULL DEFAULT '4' COMMENT '流量分级: 1表示不出色情和恶心广告, 2表示不出低俗色情广告, 3表示不出恶心不适广告，4表示都出',
  `click_register` int(4) DEFAULT NULL COMMENT 'SDK点击注册方法设计：1.穿山甲默认点击注册方法；2.开发者接口配置注册方法',
  `support_skip` tinyint(2) DEFAULT NULL COMMENT '全屏视频是否支持显示n秒后跳过：1-支持，2-不支持',
  `skip_duration` int(11) DEFAULT NULL COMMENT '跳过时长，默认前端设置为“5秒”',
  `origin_type` tinyint(2) DEFAULT NULL COMMENT '1，模版渲染；2，自渲染',
  `style_type` tinyint(2) DEFAULT NULL COMMENT '1，优选；2，自定义',
  `reward_skip` tinyint(2) DEFAULT '2' COMMENT '激励视屏跳过时长，1-跳过，2-不跳过',
  `reward_duration` int(8) DEFAULT '0' COMMENT '激励视屏跳过时长:秒',
  `apply_types` varchar(128) DEFAULT NULL COMMENT '申请类型：1:游戏行业大盘调控；2:新产品补贴；3:新版本SDK补贴；4:内部超休闲补贴；5:外部超休闲补贴；6:非游补贴；7:活动补贴；8:其他特殊分成',
  `new_screen_tag` tinyint(4) DEFAULT '0' COMMENT '是否是新插屏 旧全屏=0 新插屏=1',
  `use_endcard` tinyint(4) DEFAULT NULL COMMENT '需要=2 不需要=1',
  `accept_material_type` tinyint(4) DEFAULT NULL COMMENT '可接受素材类型 视频+图片=3 仅视频=2 仅图片=1',
  `ad_rollout_size` tinyint(4) DEFAULT NULL COMMENT '广告铺开大小:全屏=1 插屏=2',
  `use_mediation` tinyint(4) DEFAULT '0' COMMENT '是否使用穿山甲聚合',
  `cpm_threshold_control` decimal(8,6) NOT NULL DEFAULT '1.000000' COMMENT '中国区固定分成门槛调控系数',
  `style_orientation` tinyint(4) DEFAULT '0' COMMENT '代码位尺寸样式，1-竖版，2-横版，3-横/竖',
  `use_icon` tinyint(4) DEFAULT '0' COMMENT '是否使用缩略标签:使用=1 不使用=2',
  `risk_level` tinyint(4) NOT NULL DEFAULT '-1' COMMENT '风险等级, -1:无, 0-5:P0-P5',
  `ban_reason` tinyint(4) NOT NULL DEFAULT '0' COMMENT '封禁原因(bit位存储), 0th: 反作弊 1th: 风控 2th: 任务',
  `splash_shake` tinyint(4) NOT NULL DEFAULT '0' COMMENT '开屏摇一摇开关，1-启用，2-不启用',
  `adx_bid_floor` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT 'client bidding底价 / dsp流量cpm_target',
  `pause_reason` tinyint(4) NOT NULL DEFAULT '0' COMMENT '暂停操作来源，1-管理侧，2-媒体侧',
  `splash_click_area` tinyint(4) NOT NULL DEFAULT '0' COMMENT '0.无效配置（不返回）1.全素材可点 2.局部可点',
  PRIMARY KEY (`id`),
  KEY `idx_site_id` (`site_id`),
  KEY `idx_status` (`status`),
  KEY `idx_media_type` (`media_type`),
  KEY `idx_source` (`source`),
  KEY `idx_access_method` (`access_method`),
  KEY `idx_user_id` (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8
